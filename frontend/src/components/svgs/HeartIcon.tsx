import { motion, useAnimation } from "framer-motion";
import { useEffect } from "react";

const HeartIcon = ({ isLiked, className }: { isLiked: boolean, className: string }) => {
  const controls = useAnimation();

  useEffect(() => {
    if (isLiked) {
      controls.start({ scale: [1, 1.3, 1] });
    } else {
      controls.start({ scale: [1, 1.2, 1] });
    }
  }, [isLiked, controls]);

  return (
    <motion.svg
      viewBox="0 0 16 16"
      fill="currentColor"
      xmlns="http://www.w3.org/2000/svg"
      className={className}
      initial={{ scale: 1 }}  // Başlangıçta herhangi bir animasyon yok
      animate={controls}      // `controls` animasyonu yönetiyor
      transition={{ duration: 0.3 }}  // Animasyon süresi
    >
      {isLiked ? (
        <motion.path
          d="M13.923 8.79327C13.0224 10.4466 11.2557 12.2066 8.33704 13.9066L8.0017 14.1066L7.6657 13.9066C4.74637 12.2066 2.9797 10.4466 2.0777 8.79327C1.17104 7.1266 1.1377 5.55327 1.73504 4.3466C2.32637 3.15327 3.4997 2.4066 4.80237 2.33994C5.90304 2.27994 7.0477 2.71327 8.00104 3.67994C8.9537 2.71327 10.0984 2.27994 11.1984 2.33994C12.501 2.4066 13.6744 3.15327 14.2657 4.3466C14.863 5.55327 14.8297 7.1266 13.923 8.79327Z"
          fill="currentColor"
        />
      ) : (
        <motion.path
          d="M11.1316 3.66673C10.3169 3.62673 9.34558 4.00673 8.53825 5.10673L8.00158 5.83339L7.46425 5.10673C6.65625 4.00673 5.68425 3.62673 4.86958 3.66673C4.04091 3.71339 3.30358 4.18673 2.92958 4.94006C2.56158 5.68673 2.50758 6.79339 3.24891 8.15339C3.96491 9.46672 5.42025 11.0001 8.00158 12.5601C10.5816 11.0001 12.0362 9.46672 12.7522 8.15339C13.4929 6.79339 13.4389 5.68673 13.0702 4.94006C12.6962 4.18673 11.9596 3.71339 11.1316 3.66673ZM13.9229 8.79339C13.0222 10.4467 11.2556 12.2067 8.33691 13.9067L8.00158 14.1067L7.66558 13.9067C4.74625 12.2067 2.97958 10.4467 2.07758 8.79339C1.17091 7.12672 1.13758 5.55339 1.73491 4.34673C2.32625 3.15339 3.49958 2.40673 4.80225 2.34006C5.90291 2.28006 7.04758 2.71339 8.00091 3.68006C8.95358 2.71339 10.0982 2.28006 11.1982 2.34006C12.5009 2.40673 13.6742 3.15339 14.2656 4.34673C14.8629 5.55339 14.8296 7.12672 13.9229 8.79339Z"
          fill="currentColor"
        />
      )}
    </motion.svg>
  );
};

export default HeartIcon;
